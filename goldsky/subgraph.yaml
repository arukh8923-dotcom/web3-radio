specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: BroadcastManager
    network: base
    source:
      address: "0xEfa1ac40697efDf229A67f521255A3CBbBD714eC"
      abi: BroadcastManager
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Broadcast
        - LiveStream
        - Station
        - DJ
      abis:
        - name: BroadcastManager
          file: ./abis/BroadcastManager.json
      eventHandlers:
        - event: BroadcastRegistered(indexed bytes32,indexed address,indexed address,uint256,uint8,uint8,string)
          handler: handleBroadcastRegistered
        - event: LiveStreamStarted(indexed bytes32,indexed address,indexed address,uint256)
          handler: handleLiveStreamStarted
        - event: LiveStreamEnded(indexed bytes32,indexed address,uint256)
          handler: handleLiveStreamEnded
        - event: MetadataUpdated(indexed bytes32,string,string)
          handler: handleMetadataUpdated
      file: ./src/broadcast-manager.ts

  - kind: ethereum
    name: SubscriptionManager
    network: base
    source:
      address: "0xc39d19eb191714Dde7dc069CA86059Fb5c5C935E"
      abi: SubscriptionManager
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Subscription
        - Tip
        - Station
        - User
      abis:
        - name: SubscriptionManager
          file: ./abis/SubscriptionManager.json
      eventHandlers:
        - event: SubscriptionCreated(indexed address,indexed address,uint8,uint256,uint256)
          handler: handleSubscriptionCreated
        - event: SubscriptionRenewed(indexed address,indexed address,uint256,uint256)
          handler: handleSubscriptionRenewed
        - event: SubscriptionCancelled(indexed address,indexed address)
          handler: handleSubscriptionCancelled
        - event: TipSent(indexed address,indexed address,indexed address,uint256,string)
          handler: handleTipSent
        - event: RevenueDistributed(indexed address,uint256,uint256)
          handler: handleRevenueDistributed
        - event: StationConfigured(indexed address,indexed address,uint256,uint256,uint256)
          handler: handleStationConfigured
      file: ./src/subscription-manager.ts

  - kind: ethereum
    name: StationFactory
    network: base
    source:
      address: "0xD4Ff45ae4095EeB7b5650C58d6B7C979d679f560"
      abi: StationFactory
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Station
        - User
      abis:
        - name: StationFactory
          file: ./abis/StationFactory.json
      eventHandlers:
        - event: StationCreated(indexed address,indexed address,indexed uint256,string,bool)
          handler: handleStationCreated
      file: ./src/station-factory.ts

  - kind: ethereum
    name: RadioGovernance
    network: base
    source:
      address: "0xE429D96A304dfaB96F85EBd618ad527101408ACc"
      abi: RadioGovernance
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Proposal
        - Vote
        - User
      abis:
        - name: RadioGovernance
          file: ./abis/RadioGovernance.json
      eventHandlers:
        - event: ProposalCreated(indexed uint256,indexed address,string,uint256,uint256)
          handler: handleProposalCreated
        - event: VoteCast(indexed uint256,indexed address,uint8,uint256)
          handler: handleVoteCast
        - event: ProposalCanceled(indexed uint256)
          handler: handleProposalCanceled
        - event: ProposalQueued(indexed uint256,uint256)
          handler: handleProposalQueued
        - event: ProposalExecuted(indexed uint256)
          handler: handleProposalExecuted
      file: ./src/radio-governance.ts

  - kind: ethereum
    name: Zone420
    network: base
    source:
      address: "0x6D4aad448235C1f0275aa06F940dC67695BD0496"
      abi: Zone420
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Zone420Participant
        - Zone420Session
        - VibesEarned
      abis:
        - name: Zone420
          file: ./abis/Zone420.json
      eventHandlers:
        - event: JoinedZone420(indexed address,uint256)
          handler: handleJoinedZone420
        - event: LeftZone420(indexed address,uint256,uint256)
          handler: handleLeftZone420
        - event: VibesEarned(indexed address,uint256,bool)
          handler: handleVibesEarned
        - event: MoodChanged(indexed address,uint8)
          handler: handleMoodChanged
        - event: CommunityMoodUpdated(uint8,uint256)
          handler: handleCommunityMoodUpdated
        - event: Event420Started(indexed uint256,uint256)
          handler: handleEvent420Started
        - event: Event420Ended(indexed uint256,uint256,uint256)
          handler: handleEvent420Ended
      file: ./src/zone420.ts

  - kind: ethereum
    name: SmokeSignals
    network: base
    source:
      address: "0x20D58d0ef3367C19bbF9D85e4Bd09Ddcfe53BB6f"
      abi: SmokeSignals
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Signal
        - User
      abis:
        - name: SmokeSignals
          file: ./abis/SmokeSignals.json
      eventHandlers:
        - event: SignalSent(indexed uint256,indexed address,indexed uint256,string,uint256,uint256)
          handler: handleSignalSent
        - event: SignalExpired(indexed uint256)
          handler: handleSignalExpired
      file: ./src/smoke-signals.ts

  - kind: ethereum
    name: HotboxRoom
    network: base
    source:
      address: "0x7EaEC34D63D44bcE860f8a97d8c8c6440ad4F56B"
      abi: HotboxRoom
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Room
        - RoomMember
        - User
      abis:
        - name: HotboxRoom
          file: ./abis/HotboxRoom.json
      eventHandlers:
        - event: RoomCreated(indexed uint256,indexed address,string,uint8,uint256)
          handler: handleRoomCreated
        - event: RoomClosed(indexed uint256)
          handler: handleRoomClosed
        - event: MemberJoined(indexed uint256,indexed address)
          handler: handleMemberJoined
        - event: MemberLeft(indexed uint256,indexed address)
          handler: handleMemberLeft
        - event: MemberRevoked(indexed uint256,indexed address,string)
          handler: handleMemberRevoked
      file: ./src/hotbox-room.ts

  - kind: ethereum
    name: DJAttestations
    network: base
    source:
      address: "0xd10eD354Cd558a4e59F079070d9E75D5181263D0"
      abi: DJAttestations
      startBlock: 23000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - DJ
        - VerificationRequest
      abis:
        - name: DJAttestations
          file: ./abis/DJAttestations.json
      eventHandlers:
        - event: ProfileCreated(indexed address,string)
          handler: handleProfileCreated
        - event: ProfileUpdated(indexed address)
          handler: handleProfileUpdated
        - event: VerificationRequested(indexed address,string,string)
          handler: handleVerificationRequested
        - event: VerificationApproved(indexed address,bytes32)
          handler: handleVerificationApproved
        - event: VerificationRejected(indexed address,string)
          handler: handleVerificationRejected
        - event: VerificationRevoked(indexed address,string)
          handler: handleVerificationRevoked
      file: ./src/dj-attestations.ts
