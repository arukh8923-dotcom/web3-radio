specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: RadioCoreRegistry
    network: base
    source:
      address: "0x716D07766eE2B6e62337B052B3501e66d12B8563"
      abi: RadioCoreRegistry
      startBlock: 23500000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Station
        - Listener
        - GlobalStats
      abis:
        - name: RadioCoreRegistry
          file: ./abis/RadioCoreRegistry.json
      eventHandlers:
        - event: StationRegistered(indexed address,indexed uint256)
          handler: handleStationRegistered
        - event: TunedIn(indexed address,indexed uint256)
          handler: handleTunedIn
        - event: TunedOut(indexed address,indexed uint256)
          handler: handleTunedOut
        - event: SignalStrengthUpdated(indexed uint256,uint256)
          handler: handleSignalStrengthUpdated
      file: ./src/radio-core-registry.ts

  - kind: ethereum
    name: SubscriptionManager
    network: base
    source:
      address: "0xc39d19eb191714Dde7dc069CA86059Fb5c5C935E"
      abi: SubscriptionManager
      startBlock: 23500000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Tip
        - Subscription
        - Listener
        - Station
        - GlobalStats
      abis:
        - name: SubscriptionManager
          file: ./abis/SubscriptionManager.json
      eventHandlers:
        - event: TipSent(indexed address,indexed address,indexed address,uint256,string)
          handler: handleTipSent
        - event: SubscriptionCreated(indexed address,indexed address,uint8,uint256,uint256)
          handler: handleSubscriptionCreated
      file: ./src/subscription-manager.ts

  - kind: ethereum
    name: SessionNFTFactory
    network: base
    source:
      address: "0xBDbFf9019678D42791D4bc2CA795B56b3Dc0F542"
      abi: SessionNFTFactory
      startBlock: 23500000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Session
        - SessionNFT
        - Station
      abis:
        - name: SessionNFTFactory
          file: ./abis/SessionNFTFactory.json
      eventHandlers:
        - event: SessionCreated(indexed uint256,uint256,indexed address,string)
          handler: handleSessionCreated
        - event: AttendeeJoined(indexed uint256,indexed address)
          handler: handleAttendeeJoined
        - event: SessionEnded(indexed uint256,uint256)
          handler: handleSessionEnded
      file: ./src/session-nft-factory.ts

  - kind: ethereum
    name: Zone420
    network: base
    source:
      address: "0x6D4aad448235C1f0275aa06F940dC67695BD0496"
      abi: Zone420
      startBlock: 23500000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - MoodReaction
        - Station
        - Listener
        - GlobalStats
      abis:
        - name: Zone420
          file: ./abis/Zone420.json
      eventHandlers:
        - event: MoodChanged(indexed address,uint8)
          handler: handleMoodChanged
        - event: VibesEarned(indexed address,uint256,bool)
          handler: handleVibesEarned
        - event: JoinedZone420(indexed address,uint256)
          handler: handleJoinedZone420
      file: ./src/zone420.ts
